{"version":3,"sources":["file:///Users/mac/WorkSpace/maowei/spine/assets/src/Drag.ts"],"names":["_decorator","Component","Node","UITransform","ccclass","property","Drag","start","node","on","EventType","TOUCH_MOVE","onTouchStartCallback","touch","event","location","getLocation","myNodePos","getComponent","convertToNodeSpaceAR","position"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAWC,MAAAA,W,OAAAA,W;;;;;;;;;OACrC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;sBAKjBM,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BL,SAD1B,CACoC;AAGlCM,QAAAA,KAAK,GAAG;AACN,eAAKC,IAAL,CAAUC,EAAV,CAAaP,IAAI,CAACQ,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,oBAA7C,EAAmE,IAAnE;AACD;;AAGOA,QAAAA,oBAAoB,CAACC,KAAD,EAAYC,KAAZ,EAAyB;AACnD;AACA;AACA;AACA;AAEA,cAAIC,QAAQ,GAAGF,KAAK,CAACG,WAAN,EAAf;AACA,cAAIC,SAAS,GAAG,KAAKC,YAAL,CAAkBf,WAAlB,EAA+BgB,oBAA/B,CAAoDJ,QAApD,CAAhB;AACA,eAAKP,IAAL,CAAUY,QAAV,GAAqBH,SAArB;AAED;;AAlBiC,O","sourcesContent":["import { _decorator, Component, Node, Vec2,UITransform } from 'cc';\nconst { ccclass, property } = _decorator;\n\n\n\n@ccclass('Drag')\nexport class Drag extends Component {\n\n\n  start() {\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchStartCallback, this);\n  }\n\n\n  private onTouchStartCallback(touch:any, event : any) {\n    // let delta = event.getLocation();\n    // this.node.x += delta.x;\n    // this.node.y += delta.y;\n    // this.node.position = pos;\n\n    let location = touch.getLocation();\n    let myNodePos = this.getComponent(UITransform).convertToNodeSpaceAR(location);\n    this.node.position = myNodePos;\n    \n  }\n}\n\n"]}