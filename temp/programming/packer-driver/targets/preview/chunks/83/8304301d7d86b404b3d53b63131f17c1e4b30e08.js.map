{"version":3,"sources":["file:///Users/mac/WorkSpace/maowei/spine/assets/src/Drag.ts"],"names":["_decorator","Component","Node","Vec3","UITransform","ccclass","property","Drag","start","node","on","EventType","TOUCH_MOVE","onTouchStartCallback","touch","event","touchWPos","getUILocation","location","getLocation","myNodePos","getComponent","convertToNodeSpaceAR","x","y","position"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAWC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,W,OAAAA,W;;;;;;;;;OAC1C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;sBAKjBO,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BN,SAD1B,CACoC;AAGlCO,QAAAA,KAAK,GAAG;AACN,eAAKC,IAAL,CAAUC,EAAV,CAAaR,IAAI,CAACS,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,oBAA7C,EAAmE,IAAnE;AACD;;AAGOA,QAAAA,oBAAoB,CAACC,KAAD,EAAYC,KAAZ,EAAyB;AACnD;AACA;AACA;AACA;AAEA,cAAIC,SAAS,GAAGD,KAAK,CAACE,aAAN,EAAhB;AAEA,cAAIC,QAAQ,GAAGJ,KAAK,CAACK,WAAN,EAAf;AACA,cAAIC,SAAS,GAAG,KAAKC,YAAL,CAAkBjB,WAAlB,EAA+BkB,oBAA/B,CAAoD,IAAInB,IAAJ,CAASa,SAAS,CAACO,CAAnB,EAAqBP,SAAS,CAACQ,CAA/B,EAAiC,CAAjC,CAApD,CAAhB;AACA,eAAKf,IAAL,CAAUgB,QAAV,GAAqBL,SAArB;AAED;;AApBiC,O","sourcesContent":["import { _decorator, Component, Node, Vec2,Vec3,UITransform } from 'cc';\nconst { ccclass, property } = _decorator;\n\n\n\n@ccclass('Drag')\nexport class Drag extends Component {\n\n\n  start() {\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchStartCallback, this);\n  }\n\n\n  private onTouchStartCallback(touch:any, event : any) {\n    // let delta = event.getLocation();\n    // this.node.x += delta.x;\n    // this.node.y += delta.y;\n    // this.node.position = pos;\n\n    let touchWPos = event.getUILocation();\n\n    let location = touch.getLocation();\n    let myNodePos = this.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(touchWPos.x,touchWPos.y,1));\n    this.node.position = myNodePos;\n    \n  }\n}\n\n"]}