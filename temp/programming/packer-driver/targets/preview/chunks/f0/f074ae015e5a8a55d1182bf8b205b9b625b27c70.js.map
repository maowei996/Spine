{"version":3,"sources":["file:///Users/mac/WorkSpace/maowei/spine/assets/src/Drag.ts"],"names":["_decorator","Component","Node","Vec2","ccclass","property","Drag","start","node","on","EventType","TOUCH_MOVE","onTouchStartCallback","event","location","getUILocation","pos","x","y","position"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;sBAKjBM,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BL,SAD1B,CACoC;AAGlCM,QAAAA,KAAK,GAAG;AACN,eAAKC,IAAL,CAAUC,EAAV,CAAaP,IAAI,CAACQ,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,oBAA7C,EAAmE,IAAnE,EAAyE,IAAzE;AACD;;AAGOA,QAAAA,oBAAoB,CAACC,KAAD,EAAc;AACxC;AACA;AACA;AAEA;AACA;AAEA,cAAIC,QAAQ,GAAGD,KAAK,CAACE,aAAN,EAAf;AACA,cAAIC,GAAG,GAAG,IAAIb,IAAJ,CAASW,QAAQ,CAACG,CAAlB,EAAoBH,QAAQ,CAACI,CAA7B,CAAV;AAEA,eAAKV,IAAL,CAAUW,QAAV,CAAmBF,CAAnB,IAAwBD,GAAG,CAACC,CAA5B;AACA,eAAKT,IAAL,CAAUW,QAAV,CAAmBD,CAAnB,IAAwBF,GAAG,CAACE,CAA5B,CAZwC,CAcxC;AACD;;AAvBiC,O","sourcesContent":["import { _decorator, Component, Node, Vec2 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n\n\n@ccclass('Drag')\nexport class Drag extends Component {\n\n\n  start() {\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchStartCallback, this, true);\n  }\n\n\n  private onTouchStartCallback(event : any) {\n    // let delta = event.getLocation();\n    // this.node.x += delta.x;\n    // this.node.y += delta.y;\n\n    //let location = event.getLocation();\n    //this.node.position = location; //this.node.convertToNodeSpaceAR(location);\n\n    let location = event.getUILocation();\n    let pos = new Vec2(location.x,location.y);\n\n    this.node.position.x += pos.x;\n    this.node.position.y += pos.y;\n\n    // this.node.position = pos;\n  }\n}\n\n"]}